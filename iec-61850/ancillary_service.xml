<?xml version="1.0" encoding="UTF-8"?>
<!--
Copyright© 2020. HwaCom Systems Inc. All Rights Reserved. No part of this software or any of its contents may be
reproduced, copied, modified or adapted, without the prior written consent of HwaCom Systems Inc., unless otherwise
indicated for stand-alone materials. Company: HwaCom Systems Inc. Department: 軟體中心研發二部 Author: Ken Hu Date: 2021-04-23
-->
<!-- 輔助服務與交易平台資料交換模型. -->
<SCL
  xmlns="http://www.iec.ch/61850/2003/SCL"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.iec.ch/61850/2003/SCL SCL.xsd"
  version="2007"
  revision="A">
  <Header id="" nameStructure="IEDName"/>
  <!-- 參考61850-6 9.4 Communication system description -->
  <!-- 定義邏輯節點間如何透過子網路(SubNetwork)與存取點(AccessPoint)進行通訊 -->
  <Communication>
    <SubNetwork name="SubNetwork01" type="8-MMS"/>
  </Communication>
  <!-- 對未完成全站配置的icd檔而言,IED名稱應為TEMPLATE -->
  <IED name="TEMPLATE">
    <!-- Services段用來描述此IED支援哪些ASCI服務類型以及GOOSE、SMV的某些設定值 -->
    <!-- 服務類型毋須依固定順序出現,未標出的服務類型代表IED不具備該能力 -->
    <!-- 請視需要uncomment個別服務類型 -->
    <!-- 參考61850-6 Ed.2 P62 -->
    <Services>
      <DynAssociation/>
      <GetDirectory/>
      <GetDataObjectDefinition/>
      <GetDataSetValue/>
      <DataSetDirectory/>
      <ReadWrite/>
      <GetCBValues/>
      <ConfLNs fixPrefix="true" fixLnInst="true"/>
      <FileHandling/>
      <TimerActivatedControl/>
    </Services>  
    <AccessPoint name="AccessPoint1">
      <Server>
        <Authentication none="true"/>
        <!-- 若不指定邏輯裝置名稱,預設為 IED名稱加上邏輯裝置識別名稱(inst) -->
        <LDevice inst="Device1" ldName="ASG08477">
          <!-- 每個邏輯裝置都需要一個LN0邏輯節點 -->
          <!-- 一種常見(代表並不一定要如此)的做法是把所有資料集、ReportControl、GSEControl都放在LN0邏輯節點內,而其它邏輯節點只用來 保存DO. -->
          <LN0 inst="" lnClass="LLN0" lnType="LN0">
            <!-- 請視需要uncomment底下的資料集、ReportControl、GSEControl等區塊 -->
            <DataSet name="DIDRE">
              <FCDA ldInst="Device1" prefix="DRE" lnClass="GGIO" lnInst="01" doName="Ind1" daName="stVal" fc="ST"/>
              <FCDA ldInst="Device1" prefix="DRE" lnClass="GGIO" lnInst="02" doName="Ind1" daName="stVal" fc="ST"/>
            </DataSet>
            <DataSet name="AIGRO">
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" doName="IntIn1" daName="stVal" fc="ST"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" doName="IntIn2" daName="stVal" fc="ST"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" doName="IntIn3" daName="stVal" fc="ST"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="MMXU" lnInst="01" doName="TotW" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="01" doName="AnIn1" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="01" doName="AnIn2" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="MMXU" lnInst="02" doName="TotW" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="02" doName="AnIn1" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="02" doName="AnIn2" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="MMXU" lnInst="03" doName="TotW" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="03" doName="AnIn1" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="03" doName="AnIn2" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="MMXU" lnInst="04" doName="TotW" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="04" doName="AnIn1" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="04" doName="AnIn2" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="MMXU" lnInst="05" doName="TotW" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="05" doName="AnIn1" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="05" doName="AnIn2" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="MMXU" lnInst="06" doName="TotW" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="06" doName="AnIn1" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="06" doName="AnIn2" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="MMXU" lnInst="07" doName="TotW" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="07" doName="AnIn1" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="07" doName="AnIn2" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="MMXU" lnInst="08" doName="TotW" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="08" doName="AnIn1" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="08" doName="AnIn2" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="MMXU" lnInst="09" doName="TotW" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="09" doName="AnIn1" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="09" doName="AnIn2" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="MMXU" lnInst="10" doName="TotW" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="10" doName="AnIn1" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" lnInst="10" doName="AnIn2" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="MMTR" doName="SupWh" daName="actVal" fc="ST"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="MMTR" doName="DmdWh" daName="actVal" fc="ST"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" doName="AnIn1" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" doName="AnIn2" daName="mag.i" fc="MX"/>
              <FCDA ldInst="Device1" prefix="GRO" lnClass="GGIO" doName="AnIn3" daName="mag.i" fc="MX"/>
            </DataSet>
            <ReportControl
              name="DI_RPT"
              datSet="DIDRE"
              rptID="ASG08477/LLN0$BR$brcb01"
              confRev="1"
              buffered="true"
              bufTime="50"
              intgPd="0"
              indexed="true">
              <TrgOps dchg="true" qchg="true" dupd="true" period="false" gi="true"/>
              <OptFields
                seqNum="true"
                timeStamp="true"
                dataSet="true"
                reasonCode="true"
                dataRef="true"
                entryID="true"
                configRef="true"
                bufOvfl="true"/>
            </ReportControl>
            <ReportControl
              name="AI_RPT_GRP"
              datSet="AIGRO"
              rptID="ASG08477/LLN0$RP$urcb01"
              confRev="1"
              buffered="false"
              bufTime="0"
              intgPd="60000"
              indexed="true">
              <TrgOps dchg="false" qchg="false" dupd="false" period="true" gi="true"/>
              <OptFields
                seqNum="true"
                timeStamp="true"
                dataSet="true"
                reasonCode="true"
                dataRef="true"
                entryID="true"
                configRef="true"
                bufOvfl="true"/>
            </ReportControl>
          </LN0>
          <!-- 實體裝置資訊,參考 61850-7-4 5.3.2 LN: Physical device information -->
          <!-- 以下內容只是說這個IED不扮演Proxy的角色 -->
          <!-- <LN inst="1" lnClass="LPHD" lnType="LPHDa"> <DOI name="Proxy"> <DAI name="stVal" valKind="Set"> <Val>false</Val>
          </DAI> </DOI> </LN> -->
          <!-- 以下是各個領域專屬(domain specific)邏輯節點 -->
          <!-- 請視需要uncomment後使用 -->
          <LN inst="01" prefix="DRE" lnClass="GGIO" lnType="DI_GGIO"/>
          <LN inst="02" prefix="DRE" lnClass="GGIO" lnType="DI_GGIO"/>
          <LN inst="" prefix="GRO" lnClass="GGIO" lnType="AI_GRP_GGIO"/>
          <LN inst="" prefix="GRO" lnClass="MMTR" lnType="AI_GRP_MMTR"/>
          <LN inst="01" prefix="GRO" lnClass="MMXU" lnType="AI_GRP_MMXU_S"/>
          <LN inst="01" prefix="GRO" lnClass="GGIO" lnType="AI_GRP_GGIO_S"/>
          <LN inst="02" prefix="GRO" lnClass="MMXU" lnType="AI_GRP_MMXU_S"/>
          <LN inst="02" prefix="GRO" lnClass="GGIO" lnType="AI_GRP_GGIO_S"/>
          <LN inst="03" prefix="GRO" lnClass="MMXU" lnType="AI_GRP_MMXU_S"/>
          <LN inst="03" prefix="GRO" lnClass="GGIO" lnType="AI_GRP_GGIO_S"/>
          <LN inst="04" prefix="GRO" lnClass="MMXU" lnType="AI_GRP_MMXU_S"/>
          <LN inst="04" prefix="GRO" lnClass="GGIO" lnType="AI_GRP_GGIO_S"/>
          <LN inst="05" prefix="GRO" lnClass="MMXU" lnType="AI_GRP_MMXU_S"/>
          <LN inst="05" prefix="GRO" lnClass="GGIO" lnType="AI_GRP_GGIO_S"/>
          <LN inst="06" prefix="GRO" lnClass="MMXU" lnType="AI_GRP_MMXU_S"/>
          <LN inst="06" prefix="GRO" lnClass="GGIO" lnType="AI_GRP_GGIO_S"/>
          <LN inst="07" prefix="GRO" lnClass="MMXU" lnType="AI_GRP_MMXU_S"/>
          <LN inst="07" prefix="GRO" lnClass="GGIO" lnType="AI_GRP_GGIO_S"/>
          <LN inst="08" prefix="GRO" lnClass="MMXU" lnType="AI_GRP_MMXU_S"/>
          <LN inst="08" prefix="GRO" lnClass="GGIO" lnType="AI_GRP_GGIO_S"/>
          <LN inst="09" prefix="GRO" lnClass="MMXU" lnType="AI_GRP_MMXU_S"/>
          <LN inst="09" prefix="GRO" lnClass="GGIO" lnType="AI_GRP_GGIO_S"/>
          <LN inst="10" prefix="GRO" lnClass="MMXU" lnType="AI_GRP_MMXU_S"/>
          <LN inst="10" prefix="GRO" lnClass="GGIO" lnType="AI_GRP_GGIO_S"/>
        </LDevice>
      </Server>
    </AccessPoint>
  </IED>
  <!-- 資料類型定義: 在此處定義邏輯節點類型、DO類型、DA類型 -->
  <DataTypeTemplates>
    <LNodeType id="LN0" lnClass="LLN0">
      <DO name="Mod" type="myMod"/>
      <DO name="Beh" type="myBeh"/>
      <DO name="Health" type="myHealth"/>
      <DO name="NamPlt" type="myLN0LPL"/>
    </LNodeType>
    <LNodeType id="DI_GGIO" lnClass="GGIO">
      <DO name="Ind1" type="mySPS"/>
    </LNodeType>
    <LNodeType id="AI_GRP_GGIO" lnClass="GGIO">
      <DO name="IntIn1" type="myINS"/>
      <DO name="IntIn2" type="myINS"/>
      <DO name="IntIn3" type="myINS"/>
      <DO name="AnIn1" type="myMV"/>
      <DO name="AnIn2" type="myMV"/>
      <DO name="AnIn3" type="myMV"/>
    </LNodeType>
    <LNodeType id="AI_GRP_MMTR" lnClass="MMTR">
      <DO name="SupWh" type="myBCR"/>
      <DO name="DmdWh" type="myBCR"/>
    </LNodeType>
    <LNodeType id="AI_GRP_MMXU_S" lnClass="MMXU">
      <DO name="TotW" type="myMV"/>
    </LNodeType>
    <LNodeType id="AI_GRP_GGIO_S" lnClass="MMXU">
      <DO name="AnIn1" type="myMV"/>
      <DO name="AnIn2" type="myMV"/>
    </LNodeType>
    <DOType id="myMod" cdc="INC">
      <DA name="stVal" fc="ST" dchg="true" bType="Enum" type="Mod"/>
      <DA name="q" fc="ST" qchg="true" bType="Quality"/>
      <DA name="t" fc="ST" bType="Timestamp"/>
      <DA name="ctlModel" fc="CF" bType="Enum" type="ctlModel"/>
      <DA name="Oper" fc="CO" bType="Struct" type="myModOper"/>
    </DOType>
    <DOType id="myBeh" cdc="INS">
      <DA name="stVal" fc="ST" dchg="true" bType="Enum" type="Beh"/>
      <DA name="q" fc="ST" qchg="true" bType="Quality"/>
      <DA name="t" fc="ST" bType="Timestamp"/>
    </DOType>
    <DOType id="myHealth" cdc="INS">
      <DA name="stVal" fc="ST" dchg="true" bType="Enum" type="Health"/>
      <DA name="q" fc="ST" qchg="true" bType="Quality"/>
      <DA name="t" fc="ST" bType="Timestamp"/>
    </DOType>
    <DOType id="myLN0LPL" cdc="LPL">
      <DA name="vendor" fc="DC" bType="VisString255">
        <Val>myVendorName</Val>
      </DA>
      <DA name="swRev" fc="DC" bType="VisString255">
        <Val>my SW revision ID</Val>
      </DA>
      <DA name="d" fc="DC" bType="VisString255"/>
      <DA name="configRev" fc="DC" bType="VisString255">
        <Val>Rev 3.45</Val>
      </DA>
      <DA name="ldNs" fc="EX" bType="VisString255">
        <Val>IEC 61850-7-4:2003</Val>
      </DA>
    </DOType>
    <DOType id="myDPL" cdc="DPL">
      <DA name="vendor" fc="DC" bType="VisString255">
        <Val>myVendorName</Val>
      </DA>
      <DA name="hwRev" fc="DC" bType="VisString255">
        <Val>Rev 1.23</Val>
      </DA>
    </DOType>
    <DOType id="myINS" cdc="INS">
      <DA name="stVal" fc="ST" dchg="true" bType="INT32"/>
      <DA name="q" fc="ST" qchg="true" bType="Quality"/>
      <DA name="t" fc="ST" bType="Timestamp"/>
    </DOType>
    <DOType id="mySPS" cdc="SPS">
      <DA name="stVal" fc="ST" dchg="true" bType="BOOLEAN"/>
      <DA name="q" fc="ST" qchg="true" bType="Quality"/>
      <DA name="t" fc="ST" bType="Timestamp"/>
    </DOType>
    <DOType id="myBCR" cdc="BCR">
      <DA name="actVal" fc="ST" dchg="true" bType="INT64"/>
      <DA name="q" fc="ST" qchg="true" bType="Quality"/>
      <DA name="t" fc="ST" bType="Timestamp"/>
    </DOType>
    <DOType id="myMV" cdc="MV">
      <DA name="mag" fc="MX" dchg="true" bType="Struct" type="myAnalogValue"/>
      <DA name="q" fc="MX" qchg="true" bType="Quality"/>
      <DA name="t" fc="MX" bType="Timestamp"/>
    </DOType>
    <DAType id="myAnalogValue">
      <BDA name="i" bType="INT32"/>
    </DAType>
    <DAType id="originator">
      <BDA name="orCat" bType="Enum" type="orCategory"/>
      <BDA name="orIdent" bType="Octet64"/>
    </DAType>
    <DAType id="myModOper">
      <BDA name="ctlVal" bType="Enum" type="Mod"/>
      <BDA name="origin" bType="Struct" type="originator"/>
      <BDA name="ctlNum" bType="INT8U"/>
      <BDA name="T" bType="Timestamp"/>
      <BDA name="Test" bType="BOOLEAN"/>
      <BDA name="Check" bType="Check"/>
      <ProtNs type="8-MMS">IEC 61850-8-1:2003</ProtNs>
    </DAType>
    <EnumType id="ctlModel">
      <EnumVal ord="0">status-only</EnumVal>
      <EnumVal ord="1">direct-with-normal-security</EnumVal>
      <EnumVal ord="2">sbo-with-normal-security</EnumVal>
      <EnumVal ord="3">direct-with-enhanced-security</EnumVal>
      <EnumVal ord="4">sbo-with-enhanced-security</EnumVal>
    </EnumType>
    <EnumType id="orCategory">
      <EnumVal ord="0">not-supported</EnumVal>
      <EnumVal ord="1">bay-control</EnumVal>
      <EnumVal ord="2">station-control</EnumVal>
      <EnumVal ord="3">remote-control</EnumVal>
      <EnumVal ord="4">automatic-bay</EnumVal>
      <EnumVal ord="5">automatic-station</EnumVal>
      <EnumVal ord="6">automatic-remote</EnumVal>
      <EnumVal ord="7">maintenance</EnumVal>
      <EnumVal ord="8">process</EnumVal>
    </EnumType>
    <EnumType id="Beh">
      <EnumVal ord="1">on</EnumVal>
      <EnumVal ord="2">blocked</EnumVal>
      <EnumVal ord="3">test</EnumVal>
      <EnumVal ord="4">test/blocked</EnumVal>
      <EnumVal ord="5">off</EnumVal>
    </EnumType>
    <EnumType id="Mod">
      <EnumVal ord="1">on</EnumVal>
      <EnumVal ord="2">blocked</EnumVal>
      <EnumVal ord="3">test</EnumVal>
      <EnumVal ord="4">test/blocked</EnumVal>
      <EnumVal ord="5">off</EnumVal>
    </EnumType>
    <EnumType id="Health">
      <EnumVal ord="1">Ok</EnumVal>
      <EnumVal ord="2">Warning</EnumVal>
      <EnumVal ord="3">Alarm</EnumVal>
    </EnumType>
  </DataTypeTemplates>
</SCL>
